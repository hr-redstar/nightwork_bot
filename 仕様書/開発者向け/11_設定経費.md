（途中まで実装済み）

/設定経費

経費設定パネルを送信
→コマンドログスレッドにログ出力（GCS/ギルドID/config/config.json　参照）

--------------------------------------
経費設定パネル

経費パネル設置一覧
店舗名：テキストチャンネルリンク　テキストリンク

承認役職 
役職：メンションロール

経費csv出力
年月日　年月　年　四半期

ボタン：経費パネル設置　承認役職
ボタン2列目：経費csv発行

--------------------------------------
パネル更新は既存を更新

承認役職
→リスト選択　役職　複数選択可能(GCS/ギルドID/config/店舗_役職_ロール.json　の役職参照)
→パネル更新
→設定ログスレッドにログ出力　embed形式（GCS/ギルドID/config/config.json　参照）

経費パネル設置　（GCS\ギルドID\keihi\config.json　にパネルのメッセージIDを追加）
→リスト選択　『店舗』(GCS/ギルドID/config/店舗_役職_ロール.json　の店舗参照)
→リスト選択　テキストチャンネル（リスト選択欄で文字入力し検索できるように）
→テキストチャンネルに経費パネル設置
→設定ログスレッドにログ出力　embed形式（GCS/ギルドID/config/config.json　参照）

経費csv発行
→リスト選択　店舗(GCS/ギルドID/config/店舗_役職_ロール.json　の店舗参照)
→メッセージ　ボタン　年月日　年月 年　四半期
→リスト選択(選択された店舗でGCSを参照し、GCSにあるjsonから年月日は年月日のリスト　年月は年月のリスト　四半期は四半期のリスト)
→指定された年月日/年月/年/四半期のjsonをcsv化（既存の物がある場合は追加）
→csv添付とcsvurlをメッセージ出力

--------------------------------------

経費申請パネル　店舗名

スレッド閲覧役職
役職：メンションロール

申請役職
役職：メンションロール

経費項目

ボタン：経費項目登録　閲覧役職　申請役職　
２列目：経費申請

--------------------------------------

経費項目登録
→モーダル入力　経費項目(改行して複数入力可能)（GCS\ギルドID\keihi\config.json　参照）
→経費パネルを更新（既存を更新）
→設定ログスレッドにログ出力　embed形式
→管理者ログにログ出力
店舗名の経費項目が設定されました。経費パネルのメッセージリンク
経費項目

更新：　削除：
実行者：メンションユーザー　実行時間：


閲覧役職
→リスト選択　役職　複数選択可能(GCS/ギルドID/config/店舗_役職_ロール.json　の役職参照)
→パネル更新
→設定ログスレッドにログ出力　embed形式（GCS/ギルドID/config/config.json　参照）

申請役職
→リスト選択　役職　複数選択可能(GCS/ギルドID/config/店舗_役職_ロール.json　の役職参照)
→パネル更新
→設定ログスレッドにログ出力　embed形式（GCS/ギルドID/config/config.json　参照）

--------------------------------------

経費申請ボタンは『店舗』と『閲覧役職』または『申請役職』または店舗を無視した『承認役職』のみが押せるように

経費申請ボタン
→リスト選択　経費項目
→モーダル入力　経費内容(日付：今日の日付 必須入力　部署：　経費項目：　金額：必須入力　備考：)
→プライベートスレッド作成　（GCS/ギルドID/keihi/config.json 参照　認証役職ユーザーを追加　GCS/ギルドID/keihi/config.jsonと閲覧役職）
(スレッドタイトル：年月-店舗名-経費申請　経費申請　日付：　部署：　経費項目：　金額：　備考：　入力者：メンションユーザー　ロール：入力者のロール　入力時間：　ボタン：承認　修正　削除)既存スレッドがあればそこに記載
→GCSにデータ保存
→管理者ログにログ出力（GCS/ギルドID/config/config.json　参照）
店舗名で経費申請がされました。
日付：　部署：　経費項目：　目的：　入力者：メンションユーザー　　入力時間：
スレッドメッセージリンク
→押した経費申請ボタンがあるテキストチャンネルにログ出力。(経費申請テキストチャンネルの経費申請ログ)
------------------------------
日付　の経費申請をしました。
入力者：メンションユーザー　入力時間：
修正者：メンションユーザー　修正時間：
承認者：メンションユーザー　承認時間：
スレッドメッセージリンク
------------------------------
→経費申請パネル再送信（既存を削除して経費申請パネルをテキストチャンネルの最新メッセージ化）
（GCS\ギルドID\keihi\config.json　のパネルのメッセージIDを更新）
→経費設定パネルを更新（店舗名：テキストチャンネル　パネルメッセージリンク　更新の為）

承認
→経費承認役職のユーザーしか押せないように
→押したスレッドメッセージを更新。(経費申請　チェックマーク承認されました　承認者：メンションユーザー　承認時間：　日付：　部署：　経費項目：　金額：　備考：　入力者：メンションユーザー　入力時間：　ボタン：承認　修正　削除)
→経費申請テキストチャンネルの経費申請ログを更新（経費申請時に送信したメッセージに追記）
------------------------------
経費申請しました。
入力者：メンションユーザー　入力時間：
スレッドメッセージリンク

チェックマーク経費申請が承認されました。承認時間：
入力者：メンションユーザー　入力時間：
スレッドメッセージリンク
------------------------------
ボタン：経費申請
→管理者ログにログ出力（GCS/ギルドID/config/config.json　参照）
チェックマーク店舗名の経費申請を承認しました。
承認者：メンションユーザー　承認時間：
日付：　部署：　経費項目：　入力者：メンションユーザー　入力時間：
スレッドメッセージリンク

修正
→申請ユーザー+承認ユーザーしか押せないように
→押したスレッドメッセージを更新。
　メッセージ【経費申請　修正しました　修正者：メンションユーザー　修正時間：】　
　embed【日付：　部署：　経費項目：　金額：　備考：　入力者：メンションユーザー　入力時間：　ボタン：承認　修正　削除】
→経費申請テキストチャンネルの経費申請ログを更新（経費申請時に送信したメッセージに追記）
------------------------------
経費申請が修正されました。修正時間：
修正者：メンションユーザー　修正時間：
スレッドメッセージリンク
------------------------------
ボタン：経費申請
→管理者ログにログ出力（GCS/ギルドID/config/config.json　参照）
チェックマーク店舗名の経費申請を修正しました。
修正者：メンションユーザー　修正時間：
日付：　部署：　経費項目：　修正者：メンションユーザー　修正時間：
スレッドメッセージリンク

削除
→申請ユーザー+承認ユーザーしか押せないように
→押したスレッドメッセージを更新。
　メッセージ【経費申請　削除しました　修正者：メンションユーザー　修正時間：】　
　embed【日付：　部署：　経費項目：　金額：　備考：　入力者：メンションユーザー　入力時間：　ボタン：承認　修正　削除】
→経費申請テキストチャンネルの経費申請ログを更新（経費申請時に送信したメッセージに追記）
------------------------------
×経費申請が削除されました。削除時間：
削除者：メンションユーザー　削除時間：
スレッドメッセージリンク
------------------------------
ボタン：経費申請
→管理者ログにログ出力（GCS/ギルドID/config/config.json　参照）
【店舗名の経費申請を削除しました。
削除者：メンションユーザー　削除時間：
日付：　部署：　経費項目：　削除者：メンションユーザー　削除時間：　スレッドメッセージリンク】

----------------------------------------

スレッド設定


生成されるスレッドは閲覧役職と申請役職と承認役職のみが見れるように、店舗に紐づいているロールユーザーの中から閲覧・申請・承認役職をスレッドに追加

経費申請でログがスレッドに追加される際に、新しいユーザーがいるかどうかを確認
随時ユーザーをスレッドに追加