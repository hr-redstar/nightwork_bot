markdownmarkdown/メッセージファイル化

/メッセージファイル化

指定したテキストチャンネルのメッセージを全てファイル化してGCSに保存します。

----------------------------------------

## コマンド仕様

```
/メッセージファイル化 [channel]
```

*   **channel (オプション)**
    *   ファイル化の対象となるテキストチャンネルを指定します。
    *   未指定の場合は、コマンドを実行したチャンネルが対象になります。

## 実行フロー

1.  コマンドが実行されると、処理中であることを示すため応答を保留します（ephemeral）。
2.  ボットが対象チャンネルのメッセージ履歴を閲覧する権限を持っているか確認します。
   *   権限がない場合は、エラーメッセージを返して処理を中断します。
3.  対象チャンネルの全メッセージを取得します。
   *   メッセージが存在しない場合は、その旨を伝えて処理を終了します。
4.  取得したメッセージを日付（`YYYY-MM-DD`形式）ごとにグループ分けします。
5.  日付ごとにJSONファイルを作成し、GCS（Google Cloud Storage）に保存します。
   *   **保存先パス**: `GCS/{ギルドID}/メッセージログ/{チャンネルID}/{YYYY-MM-DD}.json`
6.  処理が完了すると、以下の内容で返信します。
   *   保存した総メッセージ件数と、GCSの保存先パス形式を記載したメッセージ。
   *   取得したメッセージのうち、一番新しい日付分のJSONファイルを添付ファイルとして送信します。

## ログ

*   **コマンドログ**: コマンドの実行開始と完了（またはエラー）を記録します。
*   **管理者ログ**: 重要な処理であるため、管理者ログにも実行結果を出力します。