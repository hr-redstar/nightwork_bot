（途中まで実装済み）

/設定売上

売上設定パネルを送信
→コマンドログスレッドにログ出力（GCS/ギルドID/config/config.json　参照）

---------------------------
売上設定パネル
売上報告パネル一覧
店舗名：　テキストチャンネルリンク
店舗名：　テキストチャンネルリンク

承認役職
役職名：メンションロール
approverPositionIds：approverRoleIds

ボタン：売上報告パネル設置　承認役職　
２列目：売上csv発行

---------------------------
パネル更新は既存を更新

売上報告パネル設置
→リスト選択　店舗(GCS/ギルドID/config/店舗_役職_ロール.json　の店舗参照)
→リスト選択　テキストチャンネル
→テキストチャンネルに店舗の売上報告パネルを設置

承認役職
→リスト選択　役職　複数選択可能(GCS/ギルドID/config/店舗_役職_ロール.json　の役職参照)
→パネル更新
→設定ログスレッドにログ出力　embed形式（GCS/ギルドID/config/config.json　参照）

売上csv発行
→リスト選択　店舗(GCS/ギルドID/config/店舗_役職_ロール.json　の店舗参照)
→リスト選択　年月日　年月 四半期(選択された店舗でGCSを参照し、GCSにあるcsvから年月日は年月日のリスト　年月は年月のリスト　四半期は四半期のリスト)
→csvの添付とcsvurlをメッセージ出力

---------------------------

売上報告パネル　店舗名

閲覧役職 申請役職


ボタン：閲覧役職 申請役職
２列目：売上報告

---------------------------

閲覧役職
→リスト選択　役職　複数選択可能(GCS/ギルドID/config/店舗_役職_ロール.json　の役職参照)
→パネル更新
→設定ログスレッドにログ出力　embed形式（GCS/ギルドID/config/config.json　参照）

申請役職
→リスト選択　役職　複数選択可能(GCS/ギルドID/config/店舗_役職_ロール.json　の役職参照)
→パネル更新
→設定ログスレッドにログ出力　embed形式（GCS/ギルドID/config/config.json　参照）

売上報告
→モーダル入力　（日付　総売り　現金　カード 売掛　諸経費）
→プライベートスレッド作成（GCS/ギルドID/uriage/config.json 参照　認証役職ユーザーを追加　GCS/ギルドID/uriage/config.jsonと閲覧/申請役職）
(スレッド名：年月-店舗名-売上報告　入力者：メンションユーザー　入力時間：　日付：　総売り：　現金：　カード：　売掛：　諸経費：　残金：総売り-(カード+諸経費) ボタン：承認　修正　削除)※既存年月-店舗名のスレッドがあればそこに記載
→押した売上報告パネルのテキストチャンネルにログ出力　
----------------------------
日付：　の売上報告がされました。
入力者：メンションユーザー　入力時間：
修正者：メンションユーザー　修正時間：
承認者：メンションユーザー　承認時間：
スレッドメッセージリンク
----------------------------
→管理者ログにログ出力（GCS/ギルドID/config/config.json　参照）
『店舗名』で売上報告がされました。入力者：メンションユーザー　入力時間：
日付：　総売り：　現金：　カード：　売掛：　諸経費：　残金：総売り-(カード+諸経費)
スレッドメッセージリンク
→売上報告パネル再送信（既存を削除して売上報告パネルをテキストチャンネルの最新メッセージ化）
（GCS\ギルドID\uriage\店舗名\config.json　のパネルのメッセージIDを更新）
→売上報告パネルを更新（店舗名：テキストチャンネル　パネルメッセージリンク　更新の為）

----------------------------------------
スレッドは承認ロール・役職　閲覧ロール・役職　のユーザーしか見れないように

承認
→承認役職のユーザーしか押せないように
→押したスレッドメッセージを更新。
(チェックマーク承認されました を追記)
→売上報告テキストチャンネルの売上報告ログを更新（売上報告時に送信したメッセージに追記）
----------------------------
日付：　の売上報告がされました。
入力者：メンションユーザー　入力時間：
修正者：メンションユーザー　修正時間：
承認者：メンションユーザー　承認時間：
スレッドメッセージリンク
----------------------------
→管理者ログにログ出力（GCS/ギルドID/config/config.json　参照）
チェックマーク店舗名の売上報告を承認しました。
承認者：メンションユーザー　承認時間：
日付：　総売り：　現金：　カード：　売掛：　諸経費：　残金：総売り-(カード+諸経費)
スレッドメッセージリンク


修正
→報告ユーザー+承認ユーザーしか押せないように
→押したスレッドメッセージを更新。
(メモマーク　修正されました を追記)
→売上報告テキストチャンネルの売上報告ログを更新（売上報告時に送信したメッセージに追記）
----------------------------
日付：　の売上報告がされました。
入力者：メンションユーザー　入力時間：
修正者：メンションユーザー　修正時間：
承認者：メンションユーザー　承認時間：
スレッドメッセージリンク
----------------------------
→管理者ログにログ出力（GCS/ギルドID/config/config.json　参照）
チェックマーク店舗名の売上報告を修正しました。
修正者：メンションユーザー　修正時間：
日付：　総売り：　現金：　カード：　売掛：　諸経費：　残金：総売り-(カード+諸経費)
スレッドメッセージリンク

削除
→報告ユーザー+承認ユーザーしか押せないように
→メッセージ更新　
(メモマーク　削除されました を追記　embed内容を全て)
→売上報告テキストチャンネルの売上報告ログを更新（売上報告時に送信したメッセージに追記）
----------------------------
日付：　の売上報告がされました。
入力者：メンションユーザー　入力時間：
修正者：メンションユーザー　修正時間：
承認者：メンションユーザー　承認時間：
スレッドメッセージリンク
----------------------------
→管理者ログにログ出力（GCS/ギルドID/config/config.json　参照）
チェックマーク店舗名の売上報告を削除しました。
削除者：メンションユーザー　削除時間：
日付：　総売り：　現金：　カード：　売掛：　諸経費：　残金：総売り-(カード+諸経費)
スレッドメッセージリンク


売上　報告
店舗「」
日付 の報告がされました。
売上報告
店舗：　日付：2025-12-24
入力者：@hr　入力時間：
総売り：50,000 円　現金：10,000 円　カード：5,000 円　売掛：4,000 円　諸経費：10,000 円　残金：35,000 円
スレッドメッセージリンク：⁠202512-外部IT会社-売上報告⁠

実行者: redstar.hr•今日 4:55